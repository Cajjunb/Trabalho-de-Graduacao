\chapter{Fundamentos B√°sicos para a Produ√ß√£o da Voz}
	Neste capitulo ser√£o introduzidos princ√≠pios f√≠sicos e biol√≥gicos da produ√ß√£o da voz. Al√©m dos conceitos introduzidos aqui, ser√£o analisados os processos mec√¢nicos da gera√ß√£o da voz por parte da laringe em conjunto com o trato vocal pois s√£o de extrema import√¢ncia para a concep√ß√£o dos modelos computacionais e matem√°ticos utilizados para se desenvolver o sintetizador.

	\subsection{A Biomecanica da Laringe}
	
	Primeiramente, devemos ter em mente que o principal papel da laringe n√£o √© a produ√ß√£o de voz e sim a prote√ß√£o das vias respirat√≥rias. Dito isto, podemos fazer uma simples analise, visto que apesar de seu papel principal, a laringe tamb√©m atua como um instrumento da fala humana. Se analisarmos os instrumentos criados pelo homem podemos notar que estes dependem basicamente de sua geometria, do material que o comp√µe e da intera√ß√£o de suas partes ac√∫sticas. Do mesmo modo, a laringe possui uma determinada geometria, √© composta por tecido humano e em conjunto como trato vocal comp√µe a parte ac√∫stica do nosso corpo. Entretanto, nada √© t√£o simples, a sua geometria e as propriedades do material humano envolvidos na produ√ß√£o do som s√£o bastante irregulares~\cite{IngoTitze}. Outra analogia interessante √© sobre o instrumento e quem o utiliza. Um bom pianista por exemplo, sua musica √© boa porque ele √© habilidoso como instrumento? Ou sua musica √© boa por que o instrumento √© bem feito e o som gerado por este √© agrad√°vel? Ou os dois? Essas perguntas tamb√©m podem ser feitas com respeito a voz. Para entendermos o que inÔ¨Çuencia na qualidade da s√≠ntese da voz √© necess√°rio analisar a biomec√¢nica da voz, que nada mais √© analisar o movimento do material vivo e as for√ßas atuantes sobre ele~\cite{IngoTitze}.
	
	\subsection{Fatores Biol√≥gicos que Afetam a Produ√ß√£o de Som na Laringe}
	A parte da (bio)mec√¢nica que se relaciona diretamente com a atua√ß√£o da laringe na produ√ß√£o do som √© a mec√¢nica dos meios cont√≠nuos, que √© a parte da mec√¢nica que lida com a mat√©ria distribu√≠da sobre uma determinada regi√£o no espa√ßo, e consequentemente, se contrap√µe √† mec√¢nica de part√≠culas. 
	
	Dentro da mec√¢nica de meios cont√≠nuos, mais especiÔ¨Åcamente, a parte que ir√° nos auxiliar no estudo do comportamento da laringe se chama mec√¢nica de s√≥lidos e Ô¨Çuidos. Dito isto, analisaremos a seguir alguns conceitos f√≠sicos que tem forte liga√ß√£o com os processos que ocorrem na regi√£o da laringe durante a produ√ß√£o do som: 
	
	\subsubsection{Tens√£o e Deforma√ß√£o}
	 S√£o caracter√≠sticas de for√ßas atuantes em superf√≠cies, como por exemplo a resist√™ncia do ar. 

	\subsubsection{Tens√£o }
	 √© quantidade de for√ßa por unidade de √°rea~\cite{IngoTitze}, podemos escrever na forma da equa√ß√£o~\ref{eq:1} :
	 
	 \begin{equation}
	 	\centering
	 	\[
		 	\sigma = \frac{f}{A}
	 	\]
	 	\label{eq:1}
	 \end{equation}
	Onde œÉ √© a tens√£o, f √© a for√ßa aplicada e A a √°rea de aplica√ß√£o desta for√ßa. 
	
	\subsubsection{Deforma√ß√£o  }
	√© a medida de deforma√ß√£o de um meio ap√≥s a aplica√ß√£o de uma tens√£o~\cite{IngoTitze} e pode ser escrito na forma da equa√ß√£o  :
	
	\begin{equation}
	\centering
		\[
		\epsilon = L - \frac{L_0}{L_0}
		\]
		\label{eq:2}
	\end{equation}
	
	Onde  √© a medida de deforma√ß√£o, L √© o comprimento ap√≥s a tens√£o e L0 √© o comprimento antes da tens√£o.
	
	Normalmente uma dada deforma√ß√£o em uma dimens√£o resulta em uma deforma√ß√£o oposta em outra dimens√£o em um dado meio. Se uma deforma√ß√£o √© uniforme por todo o corpo de um objeto, ent√£o chamamos de compress√£o, se o volume diminui por conta desta deforma√ß√£o, e expans√£o, se o volume aumenta. 

	\subsubsection{Viscosidade}
	√â a velocidade de deforma√ß√£o(consequentemente, de restaura√ß√£o) de um determinado Ô¨Çuido quando atuam for√ßas de tens√£o no mesmo. Matematicamente pode ser expresso conforme a equa√ß√£o~\ref{eq:3}:
	
	\begin{equation}
		\centering
		\[
		\epsilon = \eta \frac{d_e}{d_t}
		\]
		\label{eq:3}
	\end{equation}

	Para Œ∑ viscosidade e t tempo. Quanto maior a viscosidade, mais devagar ser√° a deforma√ß√£o de um meio. 
	
	\subsection{Modelo Massa-Mola Auto Sustent√°vel}:
	A fechadura e abertura da glote num sistema massa mola de apenas um lado

	\[
		P = (1 - \frac{a2}{a1})*(Ps- Pi) + Pi
	\]
	
	\subsection{Elasticidade}
	 √â uma propriedade do meio que determina qu√£o completa ser√° a restaura√ß√£o do meio ap√≥s uma dada deforma√ß√£o.
	 
	Os conceitos e propriedades descritos acima s√£o extremamente importantes para se entender a manuten√ß√£o da produ√ß√£o do som. As pregas vocais s√£o m√∫sculos e m√∫sculos s√£o compostos por Ô¨Åbras, logo, as pregas vocais consistem de uma grande concentra√ß√£o de Ô¨Åbras. Al√©m disso, entre as Ô¨Åbras que comp√µe as pregas vocais existem tamb√©m Ô¨Çuidos atuantes, o que caracteriza as pregas vocais como um material viscoel√°stico. Para se entender a capacidade de absor√ß√£o e regenera√ß√£o das pregas vocais, em detrimento das vibra√ß√µes de alta frequ√™ncia e as press√µes do ar, deve-se primeiramente estudar as propriedades absorcivas do material que as comp√µe.
	
	Ou seja, em outras palavras, deve-se estudar as propriedades mec√¢nicas do tecido viscoel√°stico, e uma ferramenta que facilita o entendimento √© o estudo da curva for√ßa-alongamento de um material. Entretanto, construir uma curva de for√ßa-alongamento depende essencialmente da geometria da amostra do material~\cite{IngoTitze} e, por se tratar de uma material biol√≥gico, √© dif√≠cil obter uma geometria precisa pois as Ô¨Åbras est√£o constantemente se reorientando em detrimento de les√µes e cortes Ô¨Åbrosos. Para viabilizar este estudo, Titze~\cite{IngoTitze} sugere normalizar as for√ßas atuantes e as deforma√ß√µes resultantes para que n√£o haja a depend√™ncia direta da geometria. Essa normaliza√ß√£o se d√° atrav√©s da substitui√ß√£o da curva for√ßa-alongamento por um curva tens√£o-deforma√ß√£o. A Figura ~\ref{fig:curvaTensao} retirada do estudo feito por Titze~\cite{IngoTitze} demonstra uma curva hipot√©tica de tens√£o-deforma√ß√£o para os tecidos que comp√µe as pregas vocais humanas. Esta Figura ilustra o comportamento das Ô¨Åbras das pregas vocais atrav√©s da rela√ß√£o entre uma for√ßa atuante e a deforma√ß√£o gerada por esta. A import√¢ncia desta analise se deve ao fato de que √© poss√≠vel estabelecer uma rela√ß√£o direta entre n√≥dulos vocais e uma fona√ß√£o prolongada, alta(em termos de frequ√™ncia) e intensa. A partir da an√°lise desta curva √© ent√£o poss√≠vel estabelecer um precedente para a forma√ß√£o de n√≥dulos vocais: a frequ√™ncia e amplitude da vibra√ß√£o est√£o diretamente ligadas ao surgimento de um n√≥dulo vocal e consequentemente o de uma fenda pois a for√ßa de impacto entre as pregas vocais √© proporcional √† altura tonal quando acima do tom natural e √† intensidade durante a fona√ß√£o.
	
	
	\begin{figure}
		\includegraphics{figura1}
		\caption{ Curva Hipot√©tica Tens√£o-Deforma√ß√£o das Cordas vocais Humanas~\cite{IngoTitze}}
		\label{fig:curvaTensao}
	\end{figure}
	
	
	\subsection{Synpath}
		O SynPath √© um sintetizador computacional, desenvolvido em linguagem Python [13, 20, 28], criado por Lucero~\cite{LuceroZueiro1}. Este software √© uma extens√£o do sintetizador concebido por Fraj[19], incorporando um modelo de vibra√ß√£o para as pregas vocais. O seu prop√≥sito √© aumentar a Ô¨Ådelidade Ô¨Åsiol√≥gica do sintetizador de Fraj e permitir o controle direto dos sons sintetizados em termos de parametriza√ß√£o da laringe. Para se obter um simples controle sobre o sintetizador e facilitar o seu uso para aplica√ß√µes pr√°ticas, √© necess√°rio que a representa√ß√£o das pregas vocais seja simples. Al√©m disso, o modelo das pregas vocais deve garantir varia√ß√µes suaves no Ô¨Çuxo gerado na glote. A falta de suavidade gera timbres n√£o naturais e consequentemente a perda da Ô¨Ådelidade Ô¨Åsiol√≥gica buscada. Sendo assim, o modelo multi-massa para representa√ß√£o das pregas vocais n√£o pode ser utilizado visto que produz varia√ß√µes n√£o suaves e √© um modelo matematicamente muito complexo levando a instabilidades num√©ricas, afetando o uso para aplica√ß√µes pr√°ticas. O SynPath tomou como base para a representa√ß√£o das pregas vocais o modelo de onda mucosa desenvolvido por Titze [26]. Basicamente, o modelo √© um oscilador mono-massa, conforme descrito no Capitulo 3, incorporando a transfer√™ncia de energia do Ô¨Çuxo de ar para as pregas vocais. Entretanto, o modelo de Titze possui duas restri√ß√µes, uma que foi solucionada e aplicada no desenvolvimento do SynPath e a outra que ainda n√£o foi solucionada e portanto √© tamb√©m uma restri√ß√£o do modelo computacional do SynPath. A primeira restri√ß√£o √© que o modelo de Titze foi concebido para o estudo em pequenas oscila√ß√µes, sendo que para oscila√ß√µes de maior amplitude, este n√£o √© apropriado. Entretanto, esse modelo foi extendido por Lucero [11] para abranger maiores oscila√ß√µes utilizando um mecanismo limitador de amplitude durante as oscila√ß√µes [14]. Mesmo com essa extens√£o para maiores amplitudes, o modelo ainda apresentava uma outra restri√ß√£o, um atraso pequeno para o deslocamento da onda no canal glotal. A consequ√™ncia desse atraso √© que a press√£o limite para que ocorra a vibra√ß√£o se torna independente da frequ√™ncia de vibra√ß√£o [15]. Por√©m, sabe-se que um esfor√ßo maior √© necess√°rio para que tons mais agudos sejam vocalizados, ou seja, a press√£o para que se ocorra vibra√ß√£o em frequ√™ncias maiores(tons maiores) √© maior. Essa restri√ß√£o ainda n√£o foi solucionada tendo em vista a diÔ¨Åculdade de se realizar o supracitado computacionalmente. Mesmo com essa restri√ß√£o, o modelo de Lucero [11] √© o modelo utilizado para
		26
		a representa√ß√£o do car√°ter oscilat√≥rio das pregas vocais no software SynPath, sendo que esta restri√ß√£o n√£o solucionada n√£o tem forte inÔ¨Çu√™ncia no produto Ô¨Ånal.
		
	
		\subsubsection{Requisitos Funcionais}
		
		O Synpath √© consistido tamb√©m dos seguintes requisitos funcionais, os requistos funcionais s√£o as funcionalidades que o sistema executar√°\cite{SWEBOK}
		
		\begin{itemize}
			\item 1 - Valida√ß√£o do Par√¢metros passados pelo Usu√°rio, se condizem com restri√ß√µes do programa.
			\item 2 - Plotar um gr√°Ô¨Åco inicial do trato vocal de acordo com os par√¢metros do usu√°rio.
			\item 3 - Plotar tr√™s gr√°Ô¨Åcos referentes as propriedades da voz simuladas com os par√¢metros fornecidos pelo usu√°rio. ‚Äì O primeiro gr√°Ô¨Åco refere-se √†s posi√ß√µes adotadas pelas cordas vocais, a √°rea da gl√≥tis, ao Ô¨Çuxo de ar nessa √°rea e √†s caracter√≠sticas desse Ô¨Çuxo. ‚Äì O segundo gr√°Ô¨Åco refere-se √†s caracter√≠sticas do som gerado pela simula√ß√£o f√≠sica do aparato fonador pelo programa. ‚Äì O terceiro gr√°Ô¨Åco refere-se ao espectro de frequ√™ncia do som gerado e do Ô¨Çuxo da gl√≥tis.
			\item 4 - Gerar um arquivo de texo com as caracter√≠sticas de voz gerada, frequencia,amplitude, ru√≠do da voz, entre outros
			\item 5 Gerar um arquivo de som de voz simulada.
		\end{itemize}
		
		\subsubsection{Requisito N√£o-Funcionais}
		
		O Synpath consiste tamb√©m dos seguintes requisitos n√£o funcionais, requisitos n√£o funcionais s√£o requisitos s√£o parametros de qualidade, requisitos que limitam as funcionalidades do sistema\cite{SWEBOK}.
		
		\begin{itemize}
			\item 1 - O Sistema deve produzir os gr√°ficos que os requisitos funcionais delimitaram em um intervalo de 1(um) minuto. 
			\item 2  - Ap√≥s gerar os gr√°ficos e os exibi-los o arquivo texto e o arquivo de audio dever√£o ser exibidos
			\item 3 - Para que o sistema esteja funcional √© necess√°rio ter instalado os pacotes: MatPlotLib e NumPY
			\item 4 - O sistema deve ser executado em plataformas de um sistema operacionais como Windows, Linux ou MacOs, Vers√µes recentes de acordo com a data desse documento. 
			
		\end{itemize}
		
	
	
	
	
	\subsection{HMMs}
		Minera-se de v√°rias partituras musicais para treino. Os dados minerados dessas m√∫sicas s√£o fonemas, altura, intensidade e os intervalos, isto √© rela√ß√£o com outras notas.Esses dados s√£o convertidos e mapeados em "labels" dependentes de contexto~\cite{DegottexNada}.Ap√≥s isso as HMM's s√£o treinados atrav√©s dos dados de treinamento usando o algoritmo EM.\cite{GudnasonNada}. Ap√≥s isso ocorre a fase de sintesis, usa-se outra partitura para ser convertida em "labels" dependentes de contexto e estima-se quais "labels" preprocessadas s√£o correspondentes.\cite{TakashiNose}
	
		\subsection{MHRSMM}
		Uma varia√ß√£o HSMM. Modelo de multipla regress√£o HSMM.
		Parametros importantes s√£o Œºi e mi dos outputs pdfs
		
		\[ \mu_i = H_bi \xi \] 
		\[	m_i   = H_pi \xi  \]
		\[ \xi   = [1,v_1,v_2,...,v_L]^T \]	
		\[ \xi   = [1,v^T]^T	\]	
		
		Onde L √© a dimens√£o do vetor de estilo e vi  √©  a intensidade do  en√©simo estilo de canto.
		
		Um exemplo de um vetor de estilos de canto de tamanho L =  2 e L = 3.
		
		\includegraphics{exemploHMM.png}
		
		\subsubsection{Controle do Sintentisador de voz cantada baseado em MRHSMM}
		
		\includegraphics{esquemaHMM.png}
		
		Durante a fase de s√≠ntese o usu√°rio do programa adiciona vetores de estilos de acorodo com a inten√ß√£o e a expressividade pretendida.
		Parametros de output como dura√ß√£o s√£o gerados pelos vetores de estilos dados e matrizes de regress√µes treinadas usando MRHSMMs
		
		Resultado de todo esse processo √© um sequ√™ncia HSMM usando parametros de gera√ß√£o de fala
		
		MRHSMM possui uma dificuldade de gerar contorno F0 que acompanhe o contexto de mudan√ßa de altura das notas o author TAKASHI NOSE, prop√µe um treinamento de HSMM e HMM nos parametros 
		
	
	\subsection{FrameWorks Sintetisador de Voz}
	
		Frame Work de um Sistema Sintetisador de Voz:
		
		\includegraphics{frameWork.png}
		
		\subsubsection{Input}
		Consiste da partitura, letra e emo√ß√£o.
		o input √© analisado e derivado em uma transcri√ß√£o fon√©tica, alinhamento com a performance alvo ou dados contextuais.\cite{FrameWork}\linebreak
		
		\subsubsection{Express√£o}
		Express√£o m√∫sical √© um conceito intuitivo por√©m dificil de se definir. A express√£o √© chave na percep√ß√£o da qualidade e naturalidade musical.
		No caso da voz cantada implica-se usar v√°rios outros parametro al√©m de frequencia e amplitude. Psicol√≥gicamente contorno do timbre, vibrato, tremolo, timing fon√©tico.\cite{FrameWork}\linebreak
	
	
	\subsection{Envoltoria F0}
	
	Envolt√≥rias F0 s√£o usadas para expressar informa√ß√£o linguistica, para-lingu√≠stica e n√£o-linguistica.\cite{SaitouF0}
	\linebreak
	
	As Envolt√≥ria F0 apresentam tr√™s (3) caracter√≠sticas importantes que fazem diferenciar uma voz falada a uma voz cantada.\cite{SaitouNada}
	\linebreak
	\begin{itemize}
		\item 1 - O alcance din√¢mico de uma envolt√≥ria F0 √© mais largo que o de uma voz falada
		\item 2 - A envolt√≥ria F0 corresponde e tende a se manter est√°vel em uma nota. A mudan√ßa de nota de uma envolt√≥ria F0 corresponde a melodia da m√∫sica
		\item 3 - Existem muita flutua√ß√µes f0 que s√£o apenas observadas em apenas vozes cantadas
	\end{itemize}
	
	
	\subsection{Sintese de Voz em Mandar√≠m}
		Utiliza-se a t√©cnica HNM para a sintese da voz cantada em mandar√≠m. HNM significa , "harmonic plus noise model".
		O modelo HNM divide o espectro de um sinal em dois(2) com larguras n√£o iguais para modelagem melhor do espectro.\cite{LinRobos}
	